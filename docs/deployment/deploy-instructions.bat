echo "=== SUPABASE EDGE FUNCTION UPDATE ==="
echo "üîß PROBLEMA: Erro de metadata do Stripe (limite de 500 caracteres excedido)"
echo "‚úÖ SOLU√á√ÉO: Metadados simplificados sem booking_ids longos"
echo ""
echo "üìÅ ARQUIVO ATUALIZADO: supabase\functions\create-payment\index.ts"
echo ""
echo "üöÄ OP√á√ïES DE DEPLOY MANUAL:"
echo "1. Via Supabase Dashboard:"
echo "   - Ir para https://supabase.com/dashboard/project/rnhibdbxfbminqseayos"
echo "   - Edge Functions > create-payment"
echo "   - Copiar c√≥digo de: supabase\functions\create-payment\index.ts"
echo "   - Deploy"
echo ""
echo "2. Via CLI (se dispon√≠vel):"
echo "   supabase functions deploy create-payment --project-ref rnhibdbxfbminqseayos"
echo ""
echo "3. Via curl (teste da fun√ß√£o):"
echo "   curl -X POST 'https://rnhibdbxfbminqseayos.supabase.co/functions/v1/create-payment'"
echo ""
echo "üéØ RESULTADO ESPERADO:"
echo "   - Booking recorrente funciona sem erro de metadata"
echo "   - Todas as 15 aulas s√£o criadas corretamente"
echo "   - Log mostra: 'METADATA FIX APPLIED'"
